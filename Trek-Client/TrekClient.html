<html>
	<head>
	<script type="text/javascript">
		
		var ip = "ws://192.168.1.142:8000";
		
		var webSocket = new WebSocket(ip);

		var elements = new Array();
		
		buttonImg = new Image();
		buttonImg.src = "button.png";
		
		buttonHoverImg = new Image();
		buttonHoverImg.src = "buttonHovered.png";
		
		buttonPressedImg = new Image();
		buttonPressedImg.src = "buttonPressed.png"
		
		window.onload = function () 
		{
		};
		
		webSocket.onopen = function(event)
		{
			alert("Websocket open");
		}
		
		webSocket.onmessage = function(event) 
		{
			alert("Received data!");
			
			//elements = JSON.parse(event.data);
			//alert(elements[0].name);
		};
		
		function onButtonHover()
		{
			document.images["button1"].src= buttonHoverImg.src;
			return true;
		}
		function onStopButtonHover()
		{
			document.images["button1"].src = buttonImg.src;
			return true;
		}
		function onButtonPress()
		{
			//When the button is pressed, send the server some data
		
			webSocket.send("Do the hustle");
			
			document.images["button1"].src = buttonPressedImg.src;
			
			return true;
		}
		function onStopButtonPress()
		{
			document.images["button1"].src = buttonHoverImg.src;
			return true;
		}
	</script>
	
	</head>
	
	<body>
		<a href="#" id="button1" 
		onMouseOver="return onButtonHover()" 
		onMouseOut="return onStopButtonHover()"
		onMouseDown="return onButtonPress()" 
		onMouseUp="return onStopButtonPress()"
		><img
		name="button1" 
		src="button.png" 
		width="100" 
		height="100" 
		border="0"
		alt="javascript button"></a>
	</body>
</html>